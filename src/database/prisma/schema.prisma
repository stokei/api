generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

enum AccountStatus {
  ACTIVE
  INACTIVE
  CANCELED
  BLOCKED
}

enum AccountRole {
  USER
  ADMIN
}

enum ThemeMode {
  DARK
  LIGHT
}

enum ColorType {
  TEXT
  HEADING
  PRIMARY
  SECONDARY
  SUCCESS
  ERROR
  WARNING
  INFO
}

enum DomainStatus {
  ACTIVE
  PENDING
}

enum PaymentMethodProvider {
  STRIPE
}

enum PaymentMethodType {
  CREDIT_CARD
  BOLETO
}

enum PlanType {
  FREE
  BASIC
  ADVANCED
  CUSTOM
}

enum PlanStatus {
  ACTIVE
  PENDING
  CANCELED
  FINISHED
}

enum RecurringType {
  DAY
  WEEK
  MONTH
  YEAR
}

enum PriceType {
  RECURRING
  ONE_TIME
}

enum SubscriptionContractType {
  RECURRING
  ONE_TIME
}

enum InventoryType {
  INFINITE
  FINITE
}

enum AppStatus {
  ACTIVE
  INACTIVE
  BLOCKED
}

enum AppMemberRole {
  OWNER
  ADMIN
}

enum OrderStatus {
  PAID
  PENDING
  CANCELED
  PAYMENT_ERROR
  TOTAL_REFUNDED
  PARCIAL_REFUNDED
}

enum PaymentStatus {
  PAID
  PENDING
  CANCELED
  PAYMENT_ERROR
  TOTAL_REFUNDED
  PARCIAL_REFUNDED
}

enum SubscriptionContractStatus {
  ACTIVE
  FINISHED
  CANCELED
}

enum PhoneStatus {
  ACTIVE
  PENDING
  INVALID
}

enum VideoStatus {
  ACTIVE
  PENDING
}

model Account {
  id                 String        @id @default(cuid())
  app                String        @db.VarChar(255)
  firstname          String        @db.VarChar(100)
  lastname           String        @db.VarChar(100)
  email              String        @db.VarChar(255)
  username           String        @unique @db.VarChar(255)
  password           String        @db.VarChar(255)
  lastPassword       String?       @map("last_password") @db.VarChar(255)
  salt               String        @unique @db.VarChar(255)
  avatar             String?       @db.VarChar(255)
  forgotPasswordCode String?       @map("forgot_password_code") @db.VarChar(255)
  dateBirthday       DateTime?     @map("date_birthday")
  status             AccountStatus
  active             Boolean       @default(true)
  roles              AccountRole[]
  canceledAt         DateTime?     @map("canceled_at")
  updatedAt          DateTime?     @updatedAt @map("updated_at")
  createdAt          DateTime?     @default(now()) @map("created_at")
  updatedBy          String?       @map("updated_by") @db.VarChar(255)
  createdBy          String?       @map("created_by") @db.VarChar(255)

  @@map("accounts")
}

model Access {
  id         String    @id @default(cuid())
  app        String    @db.VarChar(255)
  parent     String    @db.VarChar(255)
  active     Boolean   @default(true)
  expiresIn  DateTime  @map("expires_in")
  canceledAt DateTime? @map("canceled_at")
  updatedAt  DateTime? @updatedAt @map("updated_at")
  createdAt  DateTime? @default(now()) @map("created_at")
  updatedBy  String?   @map("updated_by") @db.VarChar(255)
  createdBy  String?   @map("created_by") @db.VarChar(255)

  @@map("accesses")
}

model App {
  id            String    @id @default(cuid())
  parent        String    @db.VarChar(255)
  slug          String    @db.VarChar(255)
  name          String    @db.VarChar(255)
  description   String?
  status        AppStatus
  avatar        String?   @db.VarChar(255)
  plan          String?   @db.VarChar(255)
  currency      String    @db.VarChar(255)
  language      String    @db.VarChar(255)
  favicon       String?   @db.VarChar(255)
  logo          String?   @db.VarChar(255)
  active        Boolean   @default(true)
  blockedAt     DateTime? @map("blocked_at")
  activatedAt   DateTime? @default(now()) @map("activated_at")
  deactivatedAt DateTime? @map("deactivated_at")
  updatedAt     DateTime? @updatedAt @map("updated_at")
  createdAt     DateTime? @default(now()) @map("created_at")
  updatedBy     String?   @map("updated_by") @db.VarChar(255)
  createdBy     String?   @map("created_by") @db.VarChar(255)

  @@map("apps")
}

model AppsMember {
  id        String          @id @default(cuid())
  app       String          @db.VarChar(255)
  member    String          @db.VarChar(255)
  roles     AppMemberRole[]
  updatedAt DateTime?       @updatedAt @map("updated_at")
  createdAt DateTime?       @default(now()) @map("created_at")
  updatedBy String?         @map("updated_by") @db.VarChar(255)
  createdBy String?         @map("created_by") @db.VarChar(255)

  @@map("apps_members")
}

model Domain {
  id          String       @id @default(cuid())
  app         String       @db.VarChar(255)
  parent      String       @db.VarChar(255)
  active      Boolean      @default(false)
  name        String       @db.VarChar(255)
  status      DomainStatus
  activatedAt DateTime?    @updatedAt @map("activated_at")
  updatedAt   DateTime?    @updatedAt @map("updated_at")
  createdAt   DateTime?    @default(now()) @map("created_at")
  updatedBy   String?      @map("updated_by") @db.VarChar(255)
  createdBy   String?      @map("created_by") @db.VarChar(255)

  @@map("domains")
}

model Currency {
  id            String    @id
  name          String    @db.VarChar(255)
  symbol        String    @db.VarChar(10)
  minorUnit     Int       @map("minor_unit")
  active        Boolean   @default(true)
  activatedAt   DateTime? @default(now()) @map("activated_at")
  deactivatedAt DateTime? @map("deactivated_at")
  updatedAt     DateTime? @updatedAt @map("updated_at")
  createdAt     DateTime? @default(now()) @map("created_at")
  updatedBy     String?   @map("updated_by") @db.VarChar(255)
  createdBy     String?   @map("created_by") @db.VarChar(255)

  @@map("currencies")
}

model Language {
  id            String    @id
  name          String    @db.VarChar(255)
  icon          String?   @db.VarChar(255)
  active        Boolean   @default(true)
  activatedAt   DateTime? @default(now()) @map("activated_at")
  deactivatedAt DateTime? @map("deactivated_at")
  updatedAt     DateTime? @updatedAt @map("updated_at")
  createdAt     DateTime? @default(now()) @map("created_at")
  updatedBy     String?   @map("updated_by") @db.VarChar(255)
  createdBy     String?   @map("created_by") @db.VarChar(255)

  @@map("languages")
}

model Color {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  parent    String    @db.VarChar(255)
  themeMode ThemeMode @map("theme_mode")
  type      ColorType
  color     String    @db.VarChar(20)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("colors")
}

model Product {
  id              String    @id @default(cuid())
  app             String    @db.VarChar(255)
  parent          String    @db.VarChar(255)
  name            String    @db.VarChar(255)
  description     String?
  externalProduct String    @map("external_product") @db.VarChar(255)
  checkoutVisible Boolean   @map("checkout_visible")
  avatar          String?   @db.VarChar(255)
  active          Boolean   @default(true)
  activatedAt     DateTime? @default(now()) @map("activated_at")
  deactivatedAt   DateTime? @map("deactivated_at")
  updatedAt       DateTime? @updatedAt @map("updated_at")
  createdAt       DateTime? @default(now()) @map("created_at")
  updatedBy       String?   @map("updated_by") @db.VarChar(255)
  createdBy       String?   @map("created_by") @db.VarChar(255)

  @@map("products")
}

model Price {
  id                     String        @id @default(cuid())
  app                    String        @db.VarChar(255)
  parent                 String        @db.VarChar(255)
  default                Boolean       @default(false)
  fromAmount             Int?          @map("from_amount")
  amount                 Int           @map("amount")
  type                   PriceType
  recurringIntervalCount Int           @map("recurring_interval_count")
  recurringIntervalType  RecurringType @map("recurring_interval_type")
  inventoryType          InventoryType @map("inventory_type")
  quantity               Int
  active                 Boolean       @default(true)
  updatedAt              DateTime?     @updatedAt @map("updated_at")
  createdAt              DateTime?     @default(now()) @map("created_at")
  updatedBy              String?       @map("updated_by") @db.VarChar(255)
  createdBy              String?       @map("created_by") @db.VarChar(255)

  @@map("prices")
}

model Order {
  id                       String       @id @default(cuid())
  app                      String       @db.VarChar(255)
  cart                     String       @db.VarChar(255)
  customer                 String       @db.VarChar(255)
  applicationFeePercentage Int          @map("application_fee_percentage")
  applicationFeeAmount     Int          @map("application_fee_amount")
  currency                 String       @db.VarChar(255)
  amount                   Int
  discountAmount           Int          @map("discount_amount")
  subtotalAmount           Int          @map("subtotal_amount")
  totalAmount              Int          @map("total_amount")
  status                   OrderStatus
  oldStatus                OrderStatus?
  active                   Boolean      @default(false)
  paidAt                   DateTime?    @map("paid_at")
  canceledAt               DateTime?    @map("canceled_at")
  paymentErrorAt           DateTime?    @map("payment_error_at")
  totalRefundedAt          DateTime?    @map("total_refunded_at")
  parcialRefundedAt        DateTime?    @map("parcial_refunded_at")
  updatedAt                DateTime?    @updatedAt @map("updated_at")
  createdAt                DateTime?    @default(now()) @map("created_at")
  updatedBy                String?      @map("updated_by") @db.VarChar(255)
  createdBy                String?      @map("created_by") @db.VarChar(255)

  @@map("orders")
}

model OrderItem {
  id                     String        @id @default(cuid())
  app                    String        @db.VarChar(255)
  order                  String        @db.VarChar(255)
  product                String        @db.VarChar(255)
  currency               String        @db.VarChar(255)
  name                   String        @db.VarChar(255)
  description            String?
  amount                 Int
  fromAmount             Int?          @map("from_amount")
  avatar                 String?       @db.VarChar(255)
  quantity               Int
  type                   PriceType
  recurringIntervalCount Int           @map("recurring_interval_count")
  recurringIntervalType  RecurringType @map("recurring_interval_type")
  updatedAt              DateTime?     @updatedAt @map("updated_at")
  createdAt              DateTime?     @default(now()) @map("created_at")
  updatedBy              String?       @map("updated_by") @db.VarChar(255)
  createdBy              String?       @map("created_by") @db.VarChar(255)

  @@map("orders_items")
}

model Payment {
  id                String         @id @default(cuid())
  app               String         @db.VarChar(255)
  customer          String         @db.VarChar(255)
  order             String         @db.VarChar(255)
  amount            Int
  externalPayment   String         @map("external_payment") @db.VarChar(255)
  paymentMethod     String         @map("payment_method") @db.VarChar(255)
  status            PaymentStatus
  oldStatus         PaymentStatus?
  active            Boolean        @default(false)
  paidAt            DateTime?      @map("paid_at")
  canceledAt        DateTime?      @map("canceled_at")
  paymentErrorAt    DateTime?      @map("payment_error_at")
  totalRefundedAt   DateTime?      @map("total_refunded_at")
  parcialRefundedAt DateTime?      @map("parcial_refunded_at")
  updatedAt         DateTime?      @updatedAt @map("updated_at")
  createdAt         DateTime?      @default(now()) @map("created_at")
  updatedBy         String?        @map("updated_by") @db.VarChar(255)
  createdBy         String?        @map("created_by") @db.VarChar(255)

  @@map("payments")
}

model PaymentMethod {
  id                    String                @id @default(cuid())
  app                   String                @db.VarChar(255)
  parent                String                @db.VarChar(255)
  type                  PaymentMethodType
  provider              PaymentMethodProvider
  externalPaymentMethod String                @map("external_payment_method") @db.VarChar(255)
  lastFourCardNumber    String?               @map("last_four_card_number") @db.VarChar(4)
  cardBrand             String?               @map("card_brand") @db.VarChar(50)
  active                Boolean               @default(true)
  activatedAt           DateTime?             @default(now()) @map("activated_at")
  deactivatedAt         DateTime?             @map("deactivated_at")
  updatedAt             DateTime?             @updatedAt @map("updated_at")
  createdAt             DateTime?             @default(now()) @map("created_at")
  updatedBy             String?               @map("updated_by") @db.VarChar(255)
  createdBy             String?               @map("created_by") @db.VarChar(255)

  @@map("payments_methods")
}

model Cart {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("carts")
}

model CartItem {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  parent    String    @db.VarChar(255)
  product   String    @db.VarChar(255)
  price     String    @db.VarChar(255)
  quantity  Int       @default(1)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("carts_items")
}

model Plan {
  id                           String     @id @default(cuid())
  name                         String     @db.VarChar(255)
  type                         PlanType
  checkoutVisible              Boolean    @default(false) @map("checkout_visible")
  status                       PlanStatus
  hasCustomDomain              Boolean    @default(false) @map("has_custom_domain")
  hasCustomSite                Boolean    @default(false) @map("has_custom_site")
  quantityCourses              Int        @map("quantity_courses")
  quantityInstructorPerCourses Int        @map("quantity_instructor_per_courses")
  quantityClassroomsPerCourses Int        @map("quantity_classrooms_per_courses")
  quantityModulesPerClassrooms Int        @map("quantity_modules_per_classrooms")
  quantityVideosPerModules     Int        @map("quantity_videos_per_modules")
  applicationFeePercentage     Int        @map("application_fee_percentage")
  active                       Boolean    @default(true)
  canceledAt                   DateTime?  @map("canceled_at")
  updatedAt                    DateTime?  @updatedAt @map("updated_at")
  createdAt                    DateTime?  @default(now()) @map("created_at")
  updatedBy                    String?    @map("updated_by") @db.VarChar(255)
  createdBy                    String?    @map("created_by") @db.VarChar(255)

  @@map("plans")
}

model Image {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  path      String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("images")
}

model Video {
  id          String      @id @default(cuid())
  app         String      @db.VarChar(255)
  parent      String      @db.VarChar(255)
  slug        String?     @db.VarChar(255)
  path        String      @db.VarChar(255)
  name        String?     @db.VarChar(255)
  description String?
  poster      String?     @db.VarChar(255)
  duration    Int?
  status      VideoStatus
  active      Boolean     @default(false)
  updatedAt   DateTime?   @updatedAt @map("updated_at")
  createdAt   DateTime?   @default(now()) @map("created_at")
  updatedBy   String?     @map("updated_by") @db.VarChar(255)
  createdBy   String?     @map("created_by") @db.VarChar(255)

  @@map("videos")
}

model VideoAuthor {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  video     String    @db.VarChar(255)
  author    String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("videos_authors")
}

model Module {
  id          String    @id @default(cuid())
  app         String    @db.VarChar(255)
  parent      String    @db.VarChar(255)
  name        String    @db.VarChar(255)
  description String?
  updatedAt   DateTime? @updatedAt @map("updated_at")
  createdAt   DateTime? @default(now()) @map("created_at")
  updatedBy   String?   @map("updated_by") @db.VarChar(255)
  createdBy   String?   @map("created_by") @db.VarChar(255)

  @@map("modules")
}

model Course {
  id          String    @id @default(cuid())
  app         String    @db.VarChar(255)
  parent      String    @db.VarChar(255)
  name        String    @db.VarChar(255)
  description String?
  avatar      String?   @db.VarChar(255)
  active      Boolean   @default(true)
  canceledAt  DateTime? @map("canceled_at")
  updatedAt   DateTime? @updatedAt @map("updated_at")
  createdAt   DateTime? @default(now()) @map("created_at")
  updatedBy   String?   @map("updated_by") @db.VarChar(255)
  createdBy   String?   @map("created_by") @db.VarChar(255)

  @@map("courses")
}

model CourseInstructor {
  id         String    @id @default(cuid())
  app        String    @db.VarChar(255)
  course     String    @db.VarChar(255)
  instructor String    @db.VarChar(255)
  updatedAt  DateTime? @updatedAt @map("updated_at")
  createdAt  DateTime? @default(now()) @map("created_at")
  updatedBy  String?   @map("updated_by") @db.VarChar(255)
  createdBy  String?   @map("created_by") @db.VarChar(255)

  @@map("courses_instructors")
}

model CourseStudent {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  course    String    @db.VarChar(255)
  student   String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("courses_students")
}

model Classroom {
  id                    String    @id @default(cuid())
  app                   String    @db.VarChar(255)
  parent                String    @db.VarChar(255)
  name                  String    @db.VarChar(255)
  description           String?
  hasAccessToAllModules Boolean   @default(true) @map("has_access_to_all_modules")
  active                Boolean   @default(true)
  updatedAt             DateTime? @updatedAt @map("updated_at")
  createdAt             DateTime? @default(now()) @map("created_at")
  updatedBy             String?   @map("updated_by") @db.VarChar(255)
  createdBy             String?   @map("created_by") @db.VarChar(255)

  @@map("classrooms")
}

model ClassroomStudent {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  classroom String    @db.VarChar(255)
  student   String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("classrooms_students")
}

model SubscriptionContract {
  id                   String                     @id @default(cuid())
  app                  String                     @db.VarChar(255)
  product              String                     @db.VarChar(255)
  parent               String                     @db.VarChar(255)
  defaultPaymentMethod String?                    @map("default_payment_method") @db.VarChar(255)
  status               SubscriptionContractStatus
  type                 SubscriptionContractType
  startAt              DateTime?                  @map("start_at")
  endAt                DateTime?                  @map("end_at")
  canceledAt           DateTime?                  @map("canceled_at")
  automaticRenew       Boolean                    @default(false)
  active               Boolean                    @default(true)
  updatedAt            DateTime?                  @updatedAt @map("updated_at")
  createdAt            DateTime?                  @default(now()) @map("created_at")
  updatedBy            String?                    @map("updated_by") @db.VarChar(255)
  createdBy            String?                    @map("created_by") @db.VarChar(255)

  @@map("subscription_contracts")
}

model ClassroomInstructor {
  id         String    @id @default(cuid())
  app        String    @db.VarChar(255)
  classroom  String    @db.VarChar(255)
  instructor String    @db.VarChar(255)
  updatedAt  DateTime? @updatedAt @map("updated_at")
  createdAt  DateTime? @default(now()) @map("created_at")
  updatedBy  String?   @map("updated_by") @db.VarChar(255)
  createdBy  String?   @map("created_by") @db.VarChar(255)

  @@map("classrooms_instructors")
}

model ClassroomModule {
  id        String    @id @default(cuid())
  app       String    @db.VarChar(255)
  classroom String    @db.VarChar(255)
  module    String    @db.VarChar(255)
  updatedAt DateTime? @updatedAt @map("updated_at")
  createdAt DateTime? @default(now()) @map("created_at")
  updatedBy String?   @map("updated_by") @db.VarChar(255)
  createdBy String?   @map("created_by") @db.VarChar(255)

  @@map("classrooms_modules")
}

model Address {
  id         String    @id @default(cuid())
  app        String    @db.VarChar(255)
  parent     String    @db.VarChar(255)
  default    Boolean   @default(false)
  street     String    @db.VarChar(255)
  complement String?   @db.VarChar(255)
  number     String    @db.VarChar(255)
  city       String    @db.VarChar(255)
  country    String    @db.VarChar(255)
  state      String    @db.VarChar(255)
  postalCode String    @map("postal_code") @db.VarChar(255)
  updatedAt  DateTime? @updatedAt @map("updated_at")
  createdAt  DateTime? @default(now()) @map("created_at")
  updatedBy  String?   @map("updated_by") @db.VarChar(255)
  createdBy  String?   @map("created_by") @db.VarChar(255)

  @@map("addresses")
}

model Phone {
  id             String      @id @default(cuid())
  app            String      @db.VarChar(255)
  parent         String      @db.VarChar(255)
  fullnumber     String      @db.VarChar(255)
  countryCode    String      @map("country_code") @db.VarChar(255)
  areaCode       String      @map("area_code") @db.VarChar(255)
  number         String      @db.VarChar(255)
  validationCode String      @map("validation_code") @db.VarChar(255)
  status         PhoneStatus
  default        Boolean     @default(false)
  active         Boolean     @default(false)
  activatedAt    DateTime?   @map("activated_at")
  validatedAt    DateTime?   @map("validated_at")
  updatedAt      DateTime?   @updatedAt @map("updated_at")
  createdAt      DateTime?   @default(now()) @map("created_at")
  updatedBy      String?     @map("updated_by") @db.VarChar(255)
  createdBy      String?     @map("created_by") @db.VarChar(255)

  @@map("phones")
}
